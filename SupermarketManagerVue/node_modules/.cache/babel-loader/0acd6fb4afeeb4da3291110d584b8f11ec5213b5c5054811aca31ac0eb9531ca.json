{"ast":null,"code":"import { queryPageByQo } from \"@/api/system/menu/menuApi\";\nimport { popup } from \"@/assets/js/common\";\nexport default {\n  data() {\n    return {\n      /*搜索*/\n      /*表格*/\n      tableData: [],\n      searchForm: {\n        total: 0,\n        currentPage: 1,\n        pageSize: 3\n      }\n    };\n  },\n  methods: {\n    init() {\n      queryPageByQo(this.searchForm).then(res => {\n        res = res.data;\n        if (res.code == 200) {\n          console.log(res.data);\n          this.tableData = res.data.records;\n          this.searchForm.total = res.data.total;\n          this.searchForm.pageSize = res.data.size;\n          this.searchForm.currentPage = res.data.current;\n        } else {\n          popup(res.msg, \"error\");\n        }\n      });\n    },\n    submitSearchForm() {\n      this.init();\n    },\n    resetSearchForm() {\n      this.searchForm.name = '';\n    },\n    /*分页*/\n    handleSizeChange(val) {\n      this.searchForm.pageSize = val;\n      this.init();\n      console.log(`每页 ${val} 条`);\n    },\n    handleCurrentChange(val) {\n      this.searchForm.currentPage = val;\n      this.init();\n      console.log(`当前页: ${val}`);\n    }\n  },\n  mounted() {\n    this.init();\n  }\n};","map":{"version":3,"names":["queryPageByQo","popup","data","tableData","searchForm","total","currentPage","pageSize","methods","init","then","res","code","console","log","records","size","current","msg","submitSearchForm","resetSearchForm","name","handleSizeChange","val","handleCurrentChange","mounted"],"sources":["src/views/system/menu/List.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"searchForm\">\n            <div class=\"column\">\n                <span>目录名：</span>\n                <el-input style=\"height: 21px;width: 136px\" placeholder=\"请输入目录名\" v-model=\"searchForm.name\"/>\n            </div>\n            <div class=\"column\">\n                <el-button type=\"success\" @click=\"submitSearchForm\">搜索</el-button>\n                <el-button type=\"info\" @click=\"resetSearchForm\">重置</el-button>\n            </div>\n        </div>\n        <div class=\"table\">\n            <el-table\n                    :data=\"tableData\"\n                    style=\"width: 100%;\"\n                    height=\"450px\"\n                    size=\"medium\"\n                    row-key=\"id\"\n                    border\n                    :tree-props=\"{children: 'children'}\">\n                <el-table-column\n                        prop=\"label\"\n                        label=\"菜单名\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"flag\"\n                        :show-overflow-tooltip=\"true\"\n                        label=\"标识符\">\n                    <template v-slot=\"scope\">\n                        <el-tag type=\"info\">{{scope.row.flag?scope.row.flag:'暂定'}}</el-tag>\n                    </template>\n                </el-table-column>\n                <el-table-column\n                        prop=\"type\"\n                        label=\"类型\">\n                    <template v-slot=\"scope\">\n                        <el-tag effect=\"dark\" v-if=\"scope.row.type==0\">目录</el-tag>\n                        <el-tag effect=\"dark\" v-else-if=\"scope.row.type==1\" type=\"success\">菜单</el-tag>\n                        <el-tag effect=\"dark\" v-else type=\"warning\">按钮</el-tag>\n                    </template>\n                </el-table-column>\n                <el-table-column\n                        prop=\"icon\"\n                        label=\"图标\">\n                    <template v-slot=\"scope\">\n                        <i :class=\"scope.row.icon\"></i>\n                    </template>\n\n                </el-table-column>\n                <el-table-column\n                        prop=\"info\"\n                        :show-overflow-tooltip=\"true\"\n                        label=\"描述\">\n                    <template v-slot=\"scope\">\n                        <el-tag type=\"info\">{{scope.row.info?scope.row.info:'无'}}</el-tag>\n                    </template>\n                </el-table-column>\n                <el-table-column\n                        prop=\"component\"\n                        :show-overflow-tooltip=\"true\"\n                        label=\"组件路径\">\n                    <template v-slot=\"scope\">\n                        <el-tag type=\"info\">{{scope.row.component?scope.row.component:'暂定'}}</el-tag>\n                    </template>\n                </el-table-column>\n                <el-table-column\n                        prop=\"state\"\n                        label=\"状态\">\n                    <template v-slot=\"scope\">\n                        <el-tag effect=\"dark\" type=\"success\" v-if=\"scope.row.state==0\">正常</el-tag>\n                        <el-tag effect=\"dark\" type=\"danger\" v-else>禁用</el-tag>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <div class=\"pageUtils\">\n                <el-pagination\n                        @size-change=\"handleSizeChange\"\n                        @current-change=\"handleCurrentChange\"\n                        :current-page.sync=\"searchForm.currentPage\"\n                        :page-sizes=\"[3, 5, 7, 9]\"\n                        :page-size=\"searchForm.pageSize\"\n                        layout=\"total,sizes, prev, pager, next,jumper\"\n                        :total=\"searchForm.total\">\n                </el-pagination>\n            </div>\n        </div>\n\n    </div>\n</template>\n<script>\n    import {queryPageByQo} from \"@/api/system/menu/menuApi\";\n    import {popup} from \"@/assets/js/common\";\n\n    export default {\n        data() {\n            return {\n                /*搜索*/\n                /*表格*/\n                tableData: [],\n                searchForm:{\n                    total:0,\n                    currentPage:1,\n                    pageSize:3,\n                }\n\n            }\n        },\n        methods: {\n            init(){\n                queryPageByQo(this.searchForm).then(res=>{\n                    res=res.data\n                    if (res.code == 200) {\n                        console.log(res.data)\n                        this.tableData = res.data.records\n                        this.searchForm.total=res.data.total\n                        this.searchForm.pageSize=res.data.size\n                        this.searchForm.currentPage=res.data.current\n                    }else {\n                        popup(res.msg,\"error\")\n                    }\n                })\n            },\n            submitSearchForm(){\n                this.init()\n            },\n            resetSearchForm(){\n                this.searchForm.name=''\n            },\n            /*分页*/\n            handleSizeChange(val) {\n                this.searchForm.pageSize=val\n                this.init()\n                console.log(`每页 ${val} 条`);\n            },\n            handleCurrentChange(val) {\n                this.searchForm.currentPage=val\n                this.init()\n                console.log(`当前页: ${val}`);\n            }\n        },\n        mounted() {\n            this.init()\n        }\n    }\n</script>\n<style>\n    .searchForm {\n        height: 134px;\n    }\n\n    .table {\n        background-color: #303133;\n        height: 320px;\n    }\n\n    .pageUtils {\n        position: absolute;\n        width: 84%;\n        margin: 2px auto;\n        height: 43px;\n    }\n    .searchForm {\n        display: inline-block;\n        margin: 0 auto;\n        height: 51px;\n        line-height: 51px;\n    }\n\n    .searchForm .column {\n        display: inline-block;\n        margin: 0 auto;\n        margin-right: 2px;\n        line-height: 48px;\n        height: 51px;\n    }\n</style>"],"mappings":"AA2FA,SAAAA,aAAA;AACA,SAAAC,KAAA;AAEA;EACAC,KAAA;IACA;MACA;MACA;MACAC,SAAA;MACAC,UAAA;QACAC,KAAA;QACAC,WAAA;QACAC,QAAA;MACA;IAEA;EACA;EACAC,OAAA;IACAC,KAAA;MACAT,aAAA,MAAAI,UAAA,EAAAM,IAAA,CAAAC,GAAA;QACAA,GAAA,GAAAA,GAAA,CAAAT,IAAA;QACA,IAAAS,GAAA,CAAAC,IAAA;UACAC,OAAA,CAAAC,GAAA,CAAAH,GAAA,CAAAT,IAAA;UACA,KAAAC,SAAA,GAAAQ,GAAA,CAAAT,IAAA,CAAAa,OAAA;UACA,KAAAX,UAAA,CAAAC,KAAA,GAAAM,GAAA,CAAAT,IAAA,CAAAG,KAAA;UACA,KAAAD,UAAA,CAAAG,QAAA,GAAAI,GAAA,CAAAT,IAAA,CAAAc,IAAA;UACA,KAAAZ,UAAA,CAAAE,WAAA,GAAAK,GAAA,CAAAT,IAAA,CAAAe,OAAA;QACA;UACAhB,KAAA,CAAAU,GAAA,CAAAO,GAAA;QACA;MACA;IACA;IACAC,iBAAA;MACA,KAAAV,IAAA;IACA;IACAW,gBAAA;MACA,KAAAhB,UAAA,CAAAiB,IAAA;IACA;IACA;IACAC,iBAAAC,GAAA;MACA,KAAAnB,UAAA,CAAAG,QAAA,GAAAgB,GAAA;MACA,KAAAd,IAAA;MACAI,OAAA,CAAAC,GAAA,OAAAS,GAAA;IACA;IACAC,oBAAAD,GAAA;MACA,KAAAnB,UAAA,CAAAE,WAAA,GAAAiB,GAAA;MACA,KAAAd,IAAA;MACAI,OAAA,CAAAC,GAAA,SAAAS,GAAA;IACA;EACA;EACAE,QAAA;IACA,KAAAhB,IAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}