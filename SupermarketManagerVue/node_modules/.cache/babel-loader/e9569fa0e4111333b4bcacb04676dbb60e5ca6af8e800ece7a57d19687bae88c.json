{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ajaxPost, popup } from \"@/assets/js/common\";\nimport Cookies from \"js-cookie\";\nexport default {\n  data() {\n    return {\n      loginForm: {\n        username: \"19881653720\",\n        password: \"123456\"\n      },\n      rules: {\n        username: [{\n          required: true,\n          message: \"账号不能为空\",\n          trigger: \"blur\"\n        }],\n        password: [{\n          required: true,\n          message: \"密码不能为空\",\n          trigger: \"blur\"\n        }, {\n          min: 6,\n          max: 8,\n          message: \"密码长度为5-8位\",\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          ajaxPost(\"/login\", this.loginForm).then(res => {\n            res = res.data;\n            if (res.code == 200) {\n              Cookies.set(\"token\", res.data.token, {\n                expires: 1 / 48\n              });\n              Cookies.set(\"employee\", JSON.stringify(res.data.employee), {\n                expires: 1 / 48\n              });\n              popup(\"登录成功，请稍等...\");\n              this.$router.push(\"/index\");\n            } else {\n              popup(res.msg, \"warning\");\n            }\n          });\n        } else {\n          popup(\"账号或密码格式不正确！\", \"error\");\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  }\n};","map":{"version":3,"names":["ajaxPost","popup","Cookies","data","loginForm","username","password","rules","required","message","trigger","min","max","methods","submitForm","formName","$refs","validate","valid","then","res","code","set","token","expires","JSON","stringify","employee","$router","push","msg","resetForm","resetFields"],"sources":["src/views/Login.vue"],"sourcesContent":["<template>\n    <div id=\"login\">\n        <div class=\"loginForm\">\n            <el-form\n                :model=\"loginForm\"\n                :rules=\"rules\"\n                ref=\"loginForm\"\n                class=\"demo-ruleForm\"\n            >\n                <h2>超市管理系统</h2>\n                <el-form-item prop=\"username\">\n                    <el-row>\n                        <el-col :span=\"2\" style=\"text-align: right;\">\n                            <i\n                                class=\"iconfont icon-r-user1\"\n                                style=\"font-size: 26px;\"\n                            >\n                            </i>\n                        </el-col>\n                        <el-col :span=\"22\">\n                            <el-input v-model=\"loginForm.username\"></el-input>\n                        </el-col>\n                    </el-row>\n                </el-form-item>\n\n                <el-form-item prop=\"password\">\n                    <el-row>\n                        <el-col :span=\"2\" style=\"text-align: right;\">\n                            <i\n                                class=\"iconfont icon-r-lock\"\n                                style=\"font-size: 26px;\"\n                            >\n                            </i>\n                        </el-col>\n                        <el-col :span=\"22\">\n                            <el-input\n                                type=\"password\"\n                                v-model=\"loginForm.password\"\n                            ></el-input>\n                        </el-col>\n                    </el-row>\n                </el-form-item>\n                <el-form-item>\n                    <el-button\n                        style=\"font-size: 18px\"\n                        type=\"primary\"\n                        @click=\"submitForm('loginForm')\"\n                    >\n                        <i\n                            class=\"iconfont icon-r-right\"\n                            style=\"font-size: 18px\"\n                        >\n                        </i>\n                        登录</el-button\n                    >\n                    <el-button\n                        style=\"font-size: 18px\"\n                        @click=\"resetForm('loginForm')\"\n                    >\n                        <i\n                            class=\"iconfont icon-r-refresh\"\n                            style=\"font-size: 18px\"\n                        >\n                        </i>\n                        重置</el-button\n                    >\n                </el-form-item>\n            </el-form>\n        </div>\n    </div>\n</template>\n<style>\n#login {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    overflow-y: hidden;\n    height: 100%;\n    background: url(\"../assets/img/01.jpg\") center top / cover no-repeat;\n}\n\n.loginForm {\n    background-color: white;\n    width: 400px;\n    height: 250px;\n    margin: 200px auto;\n    text-align: center;\n    padding-top: 10px;\n    border-color: #555555;\n    border-style: solid;\n    border-radius: 15px;\n}\n\n.loginForm input {\n    width: 260px;\n}\n\nh3 {\n    margin: 10px 0;\n}\n\n.loginForm button {\n    margin-right: 40px;\n}\n</style>\n<script>\nimport { ajaxPost, popup } from \"@/assets/js/common\";\nimport Cookies from \"js-cookie\";\n\nexport default {\n    data() {\n        return {\n            loginForm: {\n                username: \"19881653720\",\n                password: \"123456\",\n            },\n            rules: {\n                username: [\n                    {\n                        required: true,\n                        message: \"账号不能为空\",\n                        trigger: \"blur\",\n                    },\n                ],\n                password: [\n                    {\n                        required: true,\n                        message: \"密码不能为空\",\n                        trigger: \"blur\",\n                    },\n                    {\n                        min: 6,\n                        max: 8,\n                        message: \"密码长度为5-8位\",\n                        trigger: \"blur\",\n                    },\n                ],\n            },\n        };\n    },\n    methods: {\n        submitForm(formName) {\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    ajaxPost(\"/login\", this.loginForm).then((res) => {\n                        res = res.data;\n                        if (res.code == 200) {\n                            Cookies.set(\"token\", res.data.token, {\n                                expires: 1 / 48,\n                            });\n                            Cookies.set(\n                                \"employee\",\n                                JSON.stringify(res.data.employee),\n                                { expires: 1 / 48 }\n                            );\n                            popup(\"登录成功，请稍等...\");\n                            this.$router.push(\"/index\");\n                        } else {\n                            popup(res.msg, \"warning\");\n                        }\n                    });\n                } else {\n                    popup(\"账号或密码格式不正确！\", \"error\");\n                }\n            });\n        },\n        resetForm(formName) {\n            this.$refs[formName].resetFields();\n        },\n    },\n};\n</script>"],"mappings":";AA2GA,SAAAA,QAAA,EAAAC,KAAA;AACA,OAAAC,OAAA;AAEA;EACAC,KAAA;IACA;MACAC,SAAA;QACAC,QAAA;QACAC,QAAA;MACA;MACAC,KAAA;QACAF,QAAA,GACA;UACAG,QAAA;UACAC,OAAA;UACAC,OAAA;QACA,EACA;QACAJ,QAAA,GACA;UACAE,QAAA;UACAC,OAAA;UACAC,OAAA;QACA,GACA;UACAC,GAAA;UACAC,GAAA;UACAH,OAAA;UACAC,OAAA;QACA;MAEA;IACA;EACA;EACAG,OAAA;IACAC,WAAAC,QAAA;MACA,KAAAC,KAAA,CAAAD,QAAA,EAAAE,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACAlB,QAAA,gBAAAI,SAAA,EAAAe,IAAA,CAAAC,GAAA;YACAA,GAAA,GAAAA,GAAA,CAAAjB,IAAA;YACA,IAAAiB,GAAA,CAAAC,IAAA;cACAnB,OAAA,CAAAoB,GAAA,UAAAF,GAAA,CAAAjB,IAAA,CAAAoB,KAAA;gBACAC,OAAA;cACA;cACAtB,OAAA,CAAAoB,GAAA,CACA,YACAG,IAAA,CAAAC,SAAA,CAAAN,GAAA,CAAAjB,IAAA,CAAAwB,QAAA,GACA;gBAAAH,OAAA;cAAA,EACA;cACAvB,KAAA;cACA,KAAA2B,OAAA,CAAAC,IAAA;YACA;cACA5B,KAAA,CAAAmB,GAAA,CAAAU,GAAA;YACA;UACA;QACA;UACA7B,KAAA;QACA;MACA;IACA;IACA8B,UAAAhB,QAAA;MACA,KAAAC,KAAA,CAAAD,QAAA,EAAAiB,WAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}